type tree = Empty () | Node (tree,int,tree)

pull_up (t:tree) : tree = rewrite t {
 | Empty -> Empty
 | Node(a,i,Node(b,j,c)) -> Node(b,j,c)
}
(*EXPECT
pull_up (t : tree) : tree = rewrite t {
  | 
  | (b:tree | .tree@2.tree@0.φ^k₀ → .tree@0.φ^k₀)
    (c[]:tree | .tree@2^(k₁ + 2) → .tree@2^(k₁ + 1))
    (c.int@1:int | .tree@2^(k₁ + 2).int@1 → .tree@2^(k₁ + 1).int@1)
    (c.tree@0:tree |
     .tree@2^(k₁ + 2).tree@0.φ^k₂ →
     .tree@2^(k₁ + 1).tree@0.φ^k₂)
    (j:int | .tree@2.int@1 → .int@1)
}

*)

